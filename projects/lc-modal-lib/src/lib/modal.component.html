<div class="modal-box" #modalBox draggable>
	<div *ngIf="isDraggable; else notDraggableHeader"
		class="modal-header"
		[ngClass]="{'colored': headerVisible }"
		(dblclick)="toggleMaximize()"
		draggable-handle>
		<ng-container *ngTemplateOutlet="headerContent"></ng-container>
	</div>

	<ng-template #notDraggableHeader>
		<div class="modal-header"
			[ngClass]="{'colored': headerVisible }"
			(dblclick)="toggleMaximize()">
			<ng-container *ngTemplateOutlet="headerContent"></ng-container>
		</div>
	</ng-template>

	<ng-template #headerContent>
		<div class="modal-title">{{ title }}</div>
		<div class="modal-controls" [ngStyle]="{'min-width': getControlsWidth()}">
			<div *ngIf="collapseButtonEnabled"
				class="modal-header-btn collapse-btn"
				(pointerdown)="toggleCollapse()">
				<svg *ngIf="!collapsed" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
					<path fill="currentColor" d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"></path>
				</svg>
				<svg *ngIf="collapsed" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
					<path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"></path>
				</svg>
			</div>

			<div *ngIf="maximizeButtonEnabled"
				class="modal-header-btn maximize-btn"
				(pointerdown)="toggleMaximize()">
				<svg *ngIf="!maximized" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
					<path fill="currentColor" d="M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V192h416v234z"></path>
				</svg>
				<svg *ngIf="maximized" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
					<path fill="currentColor" d="M464 0H144c-26.5 0-48 21.5-48 48v48H48c-26.5 0-48 21.5-48 48v320c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-96 464H48V256h320v208zm96-96h-48V144c0-26.5-21.5-48-48-48H144V48h320v320z"></path>
				</svg>
			</div>
			<div *ngIf="closeButtonEnabled" class="modal-header-btn close-btn" (pointerdown)="onMouseClose($event)">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512">
					<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path>
				</svg>
			</div>
		</div>
	</ng-template>

	<div class="modal-body">
		<div class="modal-content">
			<ng-template #content></ng-template>
		</div>
	</div>
	<resizable *ngIf="isResizable"></resizable>
</div>
